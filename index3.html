async function checkWebSocket(url) {
    try {
        const ws = new WebSocket(url);
        
        ws.onopen = () => {
            console.log(`‚úÖ WebSocket –¥–æ—Å—Ç—É–ø–µ–Ω: ${url}`);
            ws.close();
        };

        ws.onerror = (error) => {
            console.log(`‚ùå WebSocket –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${url}`, error);
        };
    } catch (error) {
        console.log(`‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ WebSocket: ${url}`, error);
    }
}

function checkSipWebSocket(sipServer) {
    if (!window.RTCPeerConnection) {
        console.log("‚ùå WebRTC –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ.");
        return;
    }

    try {
        const peerConnection = new RTCPeerConnection({ iceServers: [{ urls: sipServer }] });
        peerConnection.createDataChannel("test");

        peerConnection.onicecandidate = (event) => {
            if (event.candidate) {
                console.log(`‚úÖ SIP WebSocket (${sipServer}) –¥–æ—Å—Ç—É–ø–µ–Ω`);
            } else {
                console.log(`‚ùå SIP WebSocket (${sipServer}) –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω`);
            }
        };

        peerConnection.createOffer().then(offer => {
            peerConnection.setLocalDescription(offer);
        });

    } catch (error) {
        console.log(`‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ SIP WebSocket: ${sipServer}`, error);
    }
}

// üîπ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫
const websocketUrl = "wss://iqtdemo.duckdns.org:8443";
const sipWebSocketUrl = "wss://147.45.157.8:5061";  // –ü—Ä–∏–º–µ—Ä–Ω—ã–π URL –¥–ª—è SIP-—Å–µ—Ä–≤–µ—Ä–∞

checkWebSocket(websocketUrl);
checkSipWebSocket(sipWebSocketUrl);
